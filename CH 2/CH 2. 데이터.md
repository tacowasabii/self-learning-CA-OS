# CH 2. 데이터

## 2-1 0과 1로 숫자를 표현하는 방법

컴퓨터는 0과 1로 모든 정보를 표현하고, 0과 1로 표현된 정보만을 이해할 수 있다.

### 정보 단위

0과 1을 나타내는 가장 작은 정보 단위를 **비트**라고 한다. 우리가 실행하는 프로그램은 수십만 비트, 수백만 비트로 이루어져 있다.
| 크기 | 단위 |
|-------------------|----------------------|
| 1바이트(1byte) | 8비트(8bit) |
| 1킬로바이트(1KB) | 1,000바이트(1,000byte) |
| 1메가바이트(1MB) | 1,000킬로바이트(1,000KB) |
| 1기가바이트(1GB) | 1,000메가바이트(1,000MB) |
| 1테라바이트(1TB) | 1,000기가바이트(1,000GB) |

> 1KB는 1,024byte. 1MB는 1,024KB. 이런 식으로 표현하는 것은 잘못됐다. 이전 단위를 1024개 묶어 표현한 단위는 KiB, MiB, GiB, TiB이다.

> 워드(word)
>
> 워드란 CPU가 처리할 수 있는 데이터 크기를 의미한다. 이렇게 정의된 워드의 절반 크기를 하프 워드(half word), 1배 크기를 풀 워드(full word), 2배 크기를 더블 워드(double word)라고 부른다. 워드 크기는 CPU마다 다르지만, 현대 컴퓨터의 워드 크기는 대부분 32비트 또는 64비트이다.

### 이진법

이진수를 표현하기 위해 이진수 끝에 아래첨자 ₍₂₎를 붙이거나 이진수 앞에 0b를 붙인다. 전자는 주로 이진수를 수학적으로 표기할 때, 후자는 주로 코드 상에서 이진수를 표기할 때 사용한다.

#### 이진수의 음수 표현

컴퓨터는 0과 1만 이해할 수 있기 때문에 마이너스 부호를 사용하지 않고 0과 1만으로 음수를 표현해야 한다. 가장 널리 사용되는 방법은 **2의 보수**를 구해 이 값을 음수로 간주하는 방법이다. 2의 보수의 사전적 의미는 '어떤 수를 그보다 큰 2^n에서 뺀 값'을 의미한다.

2의 보수를 쉽게 표현하면 '모든 0과 1을 뒤집고, 거기에 1을 더한 값'으로 이해하면 된다. 어떤 수의 음수를 두 번 구하면 처음 그 수가 되듯이, 어떤 수의 2의 보수도 두 번 구해보면 자기 자신이 된다.

컴퓨터 내부에서 어떤 수를 다룰 때는 이 수가 양수인지 음수인지를 구분하기 위해 **플래그**를 사용한다. 플래그는 쉽게 말해 부가 정보로, 컴퓨터 내부에서 어떤 값을 다룰 때 부가 정보가 필요한 경우 플래그를 사용한다.

> 2의 보수 표현의 한계
>
> 2의 보수는 완벽한 방식은 아니다. 0이나 2^n 형태의 이진수에 2의 보수를 취하면 원하는 음수값을 얻을 수 없다. n비트로는 -2^n과 2^n이라는 수를 동시에 표현할 수 없다.

### 십육진법

데이터를 표현할 때 이진법 이외에 **십육진법**도 자주 사용한다. 십육진수도 이진수와 마찬가지로 숫자 뒤에 아래첨자 ₍₁₆₎를 붙이거나 숫자 앞에 0x를 붙여 구분한다.

16진법을 사용하는 주된 이유 중 하나는 2진수를 16진수로, 16진수를 2진수로 변환하기 쉽기 때문이다.

#### 십육진수를 이진수로 변환하기

16진수를 2진수로 변환하는 간편한 방법 중 하나는 16진수 한 글자를 4비트의 2진수로 간주하는 것이다. 즉, 16진수를 이루고 있는 각 글자를 4개의 숫자로 구성된 2진수로 변환하고, 그것들을 그대로 이어붙이면 2진수가 된다.

#### 이진수를 십육진수로 변환하기

반대로 2진수를 16진수로 변환할 대는 2진수 숫자를 4개씩 끊고, 끊어 준 4개의 숫자를 하나의 16진수로 변환한 뒤 그대로 이어 붙이면 된다.

> 하드웨어와 빌접하게 맞닿아 있는 개발 분야에서는 코드에 16진수를 직접 쓰는 경우도 더러 있기 때문에 16진수도 기억해 두는 것이 좋다.

## 2-2 0과 1로 문자를 표현하는 방법

### 문자 집합과 인코딩

#### 문자 집합

컴퓨터가 인식하고 표현할 수 있는 문자의 모음을 **문자집합**이라고 한다. 컴퓨터는 문자 집합에 속해 있는 문자를 이해할 수 있고, 반대로 문자 집합에 속해 있지 않은 문자는 이해할 수 없다.

#### 문자 인코딩

문자 집합에 속한 문자를 0과 1로 변환을 해야 컴퓨터가 이해할 수 있다. 이 변환 과정을 **문자 인코딩**이라고 한다. 인코딩 후 0과 1로 이루어진 결과값이 문자 코드가 된다. 같은 문자 집합에 대해서도 다양한 인코딩 방법이 있을 수 있다.

#### 문자 디코딩

인코딩의 반대 과정, 즉 0과 1로 이루어진 문자 코드를 사람이 이해할 수 있는 문자로 변환하는 과정을 **문자 디코딩**이라고 한다.

### 아스키 코드(ASCII)

**아스키는**는 초창기 문자 집합 중 하나로, 영어 알파벳과 아라비아 숫자, 그리고 일부 특수 문자를 포함한다. 아스키 문자 집합에 속한 문자(아스키 문자)들은 각각 7비트로 표현되어, 총 128개의 문자를 표현할 수 있다.

> 아스키 문자중 1비트는 패리티 비트(parity bit)로, 오류 검출을 위해 사용되기 때문에 아스키 문자는 총 8비트이다.

아스키 문자에 대응된 고유한 수를 **아스키 코드**라고 한다. 아스키 문자는 아스키 코드를 이진수로 표현함으로써 인코딩된다.

> 문자 인코딩에서 '글자에 부여된 고유한 값'을 **코드 포인트**라고 한다. 문자 A의 코드 포인트는 65이다.

아스키 코드는 128개의 문자만 표현할 수 있기 때문에 한국을 포함한 영어권 외 나라들은 고유한 문자 집합과 인코딩 방식을 만들었다.

### EUR-KR

#### 완성형 인코딩

초성, 중성, 종성의 조합으로 이루어진 완성된 하나의 글자에 고유한 코드를 부여하여 인코딩하는 방식.

#### 조합형 인코딩

초성을 위한 비트열, 중성을 위한 비트열, 종성을 위한 비트열을 할당하여 그것들의 조합으로 하나의 글자 코드를 완성하는 인코딩 방식.

**EUC-KR**은 KS X 1001, KS X 1003이라는 문자 집합을 기반으로 하는 대표적인 완성형 인코딩으로, 초성, 중성, 종성이 모두 결합된 한글 단어에 2바이트 크기의 코드를 부여한다. 16비트(2바이트)는 네 자리 16진수로 표현할 수 있다. 즉, EUC-KR로 인코딩된 한글은 네 자리 16진수로 나타낼 수 있다.

EUC-KR 인코딩 방식으로 총 2,350개 정도의 한글 단어를 표현할 수 있다. 아스키 코드보다 표현할 수 있는 문자가 많아졌지만 모든 한글 조합을 표현할 수는 없다. 이는 웹사이트 한글이 깨진다던지 등의 크고 작은 문제를 유발한다. 이런 문제를 해결하고자 MS에서 EUC-KR의 확장 버전인 CP949를 만들었다.

### 유니코드와 UTF-8

**유니코드**는 EUC-KR보다 훨씬 다양한 한글을 포함하며 대부분 나라의 문자, 특수문자, 화살표나 이모티콘까지도 코드로 표현할 수 있는 통일된 문자 집합이다. 유니코드는 현대 문자를 표현할 때 가장 많이 사용되는 표준 문자 집합이며, 문자 인코딩 세계에서 매우 중요한 역할을 하고 맡고 있다.

유니코드는 글자에 부여된 값 자체를 인코딩된 값으로 삼지 않고 이 값을 다양한 방법으로 인코딩한다. 이런 인코딩 방법에는 크게 UTF-8, UTF-16, UTF-32 등이 있다.

> UTF는 Unicode Transformation Format의 약어로 유니코드를 인코딩하는 방법이다.

가장 대중적인 UTF-8은 유니코드 문자에 부여된 값의 범위에 따라 1바이트부터 4바이트까지의 인코딩 결과를 만들어낸다.
